<!DOCTYPE html>
<html dir="ltr" class="client-js" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>PyRosetta Toolkit - RosettaWiki</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.20.2">
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=edit">
<link rel="edit" title="Edit" href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=edit">
<link rel="shortcut icon" href="https://wiki.rosettacommons.org/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.rosettacommons.org/opensearch_desc.php" title="RosettaWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.rosettacommons.org/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="RosettaWiki Atom feed" href="https://wiki.rosettacommons.org/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="PyRosetta%20Toolkit%20-%20RosettaWiki_files/load.css">
<!--[if IE 6]><link rel="stylesheet" href="/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><style>.mw-collapsible-toggle{float:right} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}
/* cache key: wikidb:resourceloader:filter:minify-css:7:4250852ed2349a0d4d0fc6509a3e7d4c */.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px -1px 0 0} html > body .suggestions{margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.autoellipsis-matched,.highlight{font-weight:bold}
/* cache key: wikidb:resourceloader:filter:minify-css:7:9780324491b653a3780e2d029bdc140c */</style><meta name="ResourceLoaderDynamicStyles" content="">
<style>a{text-decoration:underline}
/* cache key: wikidb:resourceloader:filter:minify-css:7:9871e66f3ba7c0163a78311483a9717d */</style>

<script src="PyRosetta%20Toolkit%20-%20RosettaWiki_files/load.php"></script><script src="PyRosetta%20Toolkit%20-%20RosettaWiki_files/load_003.php"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"PyRosetta_Toolkit","wgTitle":"PyRosetta Toolkit","wgCurRevisionId":13526,"wgArticleId":1661,"wgIsArticle":true,"wgAction":"view","wgUserName":"Jadolfbr","wgUserGroups":["*","user","autoconfirmed"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"PyRosetta_Toolkit","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"0","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":"1","rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":"1","uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":"1","searchNs10":false,"searchNs11":"1","searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"contextchars":"50","contextlines":"5","highlightbroken":"1","hover":"1","searchNs-1":"0"});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"8448437600c56d8b8e2aed2f56cae165+\\","watchToken":"363a131857879881152581cb96716dcb+\\"});;},{},{});
/* cache key: wikidb:resourceloader:filter:minify-js:7:157aba696eb2ddd2bd8260f3688db4d1 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script><script type="text/javascript" src="PyRosetta%20Toolkit%20-%20RosettaWiki_files/load_004.php"></script><link href="PyRosetta%20Toolkit%20-%20RosettaWiki_files/FF2Fixes.css" rel="stylesheet" type="text/css">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-PyRosetta_Toolkit skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading"><span dir="auto">PyRosetta Toolkit</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From RosettaWiki</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<div id="mw-content-text" dir="ltr" class="mw-content-ltr" lang="en"><p>Language: Python/Tkinter
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2><span class="toctoggle">&nbsp;[<a href="#" class="internal" id="togglelink">hide</a>]&nbsp;</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Contact:"><span class="tocnumber">1</span> <span class="toctext">Contact:</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Intentions"><span class="tocnumber">2</span> <span class="toctext">Intentions</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Use_.2F_Tutorial"><span class="tocnumber">3</span> <span class="toctext">Use / Tutorial</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Code_Information"><span class="tocnumber">4</span> <span class="toctext">Code Information</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Tkinter_Resources.2FOverview"><span class="tocnumber">5</span> <span class="toctext">Tkinter Resources/Overview</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Adding_to_the_code"><span class="tocnumber">6</span> <span class="toctext">Adding to the code</span></a></li>
</ul>
</td></tr></tbody></table>
<h2><span class="editsection">[<a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=edit&amp;section=1" title="Edit section: Contact:">edit</a>]</span> <span class="mw-headline" id="Contact:"> Contact: </span></h2>
<p>Jared Adolf-Bryfogle <br>
jadolfbr@gmail.com <br>
</p>
<h2><span class="editsection">[<a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=edit&amp;section=2" title="Edit section: Intentions">edit</a>]</span> <span class="mw-headline" id="Intentions"> Intentions </span></h2>
<p>Interactive Modelling, multiprocessing protocols, file export, 
Rosetta setup, exploration, useful Rosetta functions and analysis. 
Please feel free to add whatever you feel is useful to users and 
developers alike.  For more information, please refer to the doxygen 
documentation and paper from the RosettaCon2012 Collection.
</p>
<h2><span class="editsection">[<a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=edit&amp;section=3" title="Edit section: Use / Tutorial">edit</a>]</span> <span class="mw-headline" id="Use_.2F_Tutorial"> Use / Tutorial </span></h2>
<dl><dd><b>Install PyRosetta.</b>
</dd></dl>
<p>Copy the code from pyrosetta/SetPyRosettaEnvironment.sh to your 
.bashrc (linux) or .bash_profile (mac).  Give the full path where it 
says PYROSETTA=
Source this.  Useful to add a shortcut to pyrosetta/ipython.py in your 
profile.
</p>
<dl><dd><b>Setup PyMOL.</b>
</dd></dl>
<p>There is an awesome file you can put in your $HOME directory called .pymolrc . There is a file: <a rel="nofollow" class="external text" href="http://www.pyrosetta.org/pymol_mover-tutorial">PyMOLPyRosettaServer.py</a>.
  Add this command to your .pymolrc 'run 
path_to_pyrosetta/PyMOLPyRosettaServer.py'  This enables the connection 
to run every time you open PyMOL, and the GUI is heavily integrated to 
use this awesome PyRosetta feature.
</p>
<dl><dd><b>Run the GUI.</b>
</dd></dl>
<p>cd into rosetta_source/GUIs/pyrosetta_toolkit.  Type 'python 
pyrosetta_toolkit.py'
If sqlite3 has a problem loading, reinstall python with sqlite3.  To do 
this, usually all you have to do is install sqlite3 and reinstall 
python.  It may be more complex sometimes, so google it, and you'll find
 a ton of information.
</p>
<dl><dd><b>Load a PDB.</b>
</dd></dl>
<p>There are two things you can load right off the bat.  A PDB or a 
PDBLIST.  Lets cover the PDB first. Use the file menu to load or fetch a
 PDB from the RCSB.  A PDB setup window will launch.  If it's your PDB 
that you have loaded into Rosetta before, just select the load button.  
The Clean/Analyze button will attempt to clean your PDB given the 
options selected and determine if any residues would be unrecognized by 
Rosetta.  
</p><p>Once the PDB is loaded into PyRosetta, you have a few choices.  
The output directory is auto set to the directory you loaded the PDB 
from, and the output name is the name of the PDB. These can be changed 
using the upper right corner of the main window.  Using 
file-&gt;export-&gt;save session you can save this information as well 
as the PDB loaded for later. 
</p><p><i>CODE: toolkit/window_main/IO/GUIInput.py</i>
</p>
<dl><dd><b>Check out PYMOL.</b>
</dd></dl>
<p>So, lets take a look at the protein first.  Open PyMol if you havn't 
already.  Read the main documentation for instructions on how to setup 
PyMOL to listen for information from PyRosetta.  Use the visualization 
menu to show the pose in pymol.  This sends coordinates to PyMOL.  If 
you want to watch different protocols each time the protein is scored, 
use the PyMOL Observer checkbox.  Note that each time the protein is 
scored, it will create another frame in pymol.  This can be used as a 
snapshot to save anything you model, or any designs you make.  The 
visualization has options to change the behavior of the PyMOL Observer, 
as well as to color regions as they are added.
</p><p><i>CODE: toolkit/window_modules/PyMOL</i>
</p>
<dl><dd><b>REALLY check out PyMOL.</b>
</dd></dl>
<p>Click the PyMOL Visualization Window button in the vis menu.  Here 
are a few cool, hopefully useful things. Double click the 'view residue 
energy' to send energy colors to pymol.  Now, explore your protein with 
the energy components on the right.  More options on the left should 
work as well such as observing all hydrogen bonds.
</p><p><i>CODE: toolkit/window_modules/PyMOL</i>
</p>
<dl><dd><b>Set your Options.</b>
</dd></dl>
<p>The Options menu allows you to configure a variety of Rosetta 
specific options through the 'Configure Options System' button, 
including command-line options such as dun10.  There are a few common 
ones, but use the entry box to add your own, and click add option to 
change the options for this current session.  Click save defaults to 
have it loaded the next time you load the toolkit.
</p><p><i>CODE: toolkit/window_modules/options_system</i>
</p>
<dl><dd><b>Set your ScoreFunction.</b>
</dd></dl>
<p>Once again, in the Options tab, click the ScoreFxn Control button.  
Here you can change the scorefunction, and also edit individual score 
terms using the bottom half.  Double clicking either the score function 
or patch sets it for this current session.  Double Clicking on a term on
 the bottom left allows you to change the weight on it, double clicking 
on a term in the bottom right allows you to change the weight from zero 
to anything.  
</p><p>Note that this window has it's own menu.  You can do a few 
things, including saving a new scorefunction, or setting a particular 
score:patch combo as the default.  More scorefunctions can be shown by 
clicking the 'Show ALL scorefunctions' button in the options menu of the
 scorefunction window.  Note that many of these scorefunctions are 
either undocumented or not used, which is why they are not listed by 
default.  This is currently a major project within the Rosetta dev 
community.  The scorefunction you have set will be used by any protocol 
which uses a scorefunction. Score12prime is set as the default for now.
</p><p><i>CODE: toolkit/window_modules/scorefunction</i>
</p>
<dl><dd><b>Use some Simple Analysis.</b>
</dd></dl>
<p>Back to the main window, we have some simple analysis for quickly 
looking at your pose.  On the left, we have some basic analysis options,
 while on the right are the full suite of RMSD tools.  Yay rms_util!!! 
</p><p>Take a look, score your pose.  At loading the pose, the native pose is set.  This is NATIVE RMSD.  Lets do some loop min.  
</p><p><i>CODE: toolkit/window_main/frames/SimpleAnalysisFrame.py</i>
<i>CODE: toolkit/modules/tools/analysis.py</i>
</p><p><br>
Note some analysis movers (Interface, PackStat, VIP, Loop) are now available in the advanced tab.
</p>
<dl><dd><b>Set some regions.</b>
</dd></dl>
<p>On the left bottom, you can select a region.  You have start, end, 
and chain.   All of that pose.pdb_info().pdb2pose(start, end, chain) 
happens in the background, so the GUI is made to work specifically with 
PDB numbering.  You can specify a loop, a residue, a chain, and/or a 
termini.  To add - use the add region button.  This will go into the 
listbox on the left.  To remove a region, click the remove region 
button. Region colors can be sent to PyMOL through the Visualization 
menu tab.
</p><p>Ok, so how do we specify more then a loop?
</p><p>Termini - Specify only the end and chain for Nter floppy tail and and beginning and chain for Cter. <br>
Chain - Specify only the chain. <br>
Individual Residue - Give the same value for start and end. <br>
</p><p><i>CODE: toolkit/window_main/frames/InputFrame.py</i>
<i>CODE: toolkit/modules/Region.py</i>
</p>
<dl><dd><b>Protocols</b>
</dd></dl>
<p>On the bottom right we have some quick protocols.  These are meant 
mostly for modeling, as we all know we need as many processors as 
possible to do most of our hardcore work.  Currently, these are broken 
down into full protocols and regional protocols.  Click the right button
 to relax the loop.  If you want to save the PDB afterward, in the upper
 right there is a write after protocol button.  Clicking this will use 
the job distributor to write the PDB after the protocol.  Now we can use
 the RMSD analysis to get back info on each loop, total, and an average 
of all loops. 
</p><p>Note that the chainbreak score is set to 100 for minimization.
</p><p><br>
Additionally is the protocols tab in the menu.  Here you can specify the
 number of processors you wish to use, as well as run a few other 
protocols, and open up a web browser to many different webservers from 
the Rosetta community.
</p><p><i>CODE: toolkit/window_main/Frames/QuickProtocolsFrame.py</i> <br>
<i>CODE: toolkit/modules/protocols</i>
<i>CODE: toolkit/modules/protocols/ProtocolBaseClass.py</i>
<i>CODE: toolkit/modules/protocols/MinimizationProtocols.py</i>
</p><p><br>
</p>
<dl><dd><b>SCWRL</b>
</dd></dl>
<p>Since I am in Roland Dunbrack's lab, I integrated SCWRL into the GUI.
  If you want the MOST accurate packing of sidechains shown in the 
literature, that's where you would use SCWRL.  To get it working in the 
GUI, cd into the SCWRL directory, go [ <a rel="nofollow" class="external free" href="http://dunbrack.fccc.edu/scwrl4/">http://dunbrack.fccc.edu/scwrl4/</a>
 here ]  to download the specific OS version you need, and install it in
 the given directory.  Now you can use the pack (SCWRL) option to pack 
your chain, loop, residue, etc. just like you did before.  Or, you could
 output a SCWRL sequence file from the export menu.  This is a file with
 the full sequence of the protein and the residues to be repacked in 
CAPS. 
</p><p><i>CODE: toolkit/SCWRL/</i> <br>
<i>CODE: toolkit/modules/tools/output.py</i>
<i>CODE: toolkit/modules/protocols/MinimizationProtocols.py</i>
</p>
<dl><dd><b>Design Window</b>
</dd></dl>
<p>Clicking the protein design menu option and then the design file 
toolbox opens an interactive way to make Resfiles.  I find it's much 
easier to use this then by hand.  Specify a residue, and you are given 
some biochemical values.  These are old, but remain heavily used.  If 
you don't know what they are, read about them through the help menu.  
Once you choose a residue, the first listbox on the left changes.  It 
has info on the conserved residues to make specifying these easier.  
Exploring the listbox populates the second listbox.  
Three types are available - individual residues, ALL, and ALL+Self.  
Double clicking these will populate the last listbox.  These are the 
current residues you have set for design for each residue. Double 
clicking any residue in the final listbox will remove it from your 
design.  You can click next residue to then modify the next one.  
Finally, instead of one residue you can specify a region like this 23:42
 and then add a residue to the design.  All of these will be set.  
Chains and termini are not currently implemented.
You can then save a resfile, clear it, or clear everything for a 
specific residue.  Loading a new pose resets the dictionary of designs.
</p><p>Adding NCAA's to this window is in the works.
</p><p><i>CODE: toolbox/modules/definitions/restype_definitions.py</i> <br>
<i>CODE: toolbox/window_modules/design_window/resfile_design.py</i>
</p>
<dl><dd><b>Full Control Window</b>
</dd></dl>
<p>Sometimes, you just want to design single residues, pack single 
residues, or even modify the dihedral angles of specific residues to 
make a model, or get something (like a termini) ready for Rosetta.  You 
also may be interested in rotamer probabilities and energies of a 
particular residue. Here is where this window comes into play.  It is 
located in the Advanced tab of the menu.  After specifying a residue, 
you can first change the dihedrals using the entry box or the slider. No
 changes are made until you click the delta button.
Double clicking a residue type in the middle listbox will mutate that 
particular residue using one of the PyRosetta convenience functions.  On
 the right, you can then repack the residue, or relax it, or relax that 
 residue and it's neighbors.  Note that in this situation, the backrub 
move would be pretty awesome, and I will be implementing it in the 
future.  
You can also observe individual energies terms of the residue by 
clicking one of the terms in the bottom listbox.  This grabs the terms 
using the ScoreFxn object as before, and IS weighted!  This can be 
useful if your looking for a design that lowers a specific energy term. 
 I know, very specific, but sometimes, just what you need!  Clicking the
 next residue or previous residue will update all energies and 
probabilities in this window including the energy term set.
</p><p>You can also add variants to your pose here.  Yay phosphorylations!
</p><p><i>CODE: toolbox/window_modules/full_control/FullControl.py</i> <br>
<i>CODE: toolbox/window_module/scorefunction/ScoreFxnControl.py</i>
</p>
<dl><dd><b>PDBLIST Functions</b>
</dd></dl>
<p>Last of the major functions I have had the time to implement are the 
PDBLIST functions.  I do all of my work with PDBLIST of full paths.  
Makes things easier, and having the full paths means I can work with 
them in multiple places and multiple scripts.  Some users and modelers 
on the other hand, might not have the knowledge to really work with 
these or even make one.  This is for them, and when I'm feeling a bit 
lazy, honestly.  You can specify a PDBLIST in the input part of the main
 window.  You can also create one in the menu.  It will create a file 
called PDBLIST.txt in the directory specified and set the filenmane as 
this.  Few things you can do now.  In the ScoreFxn window, you can 
rescore all the files and output a file with PATH&nbsp;: SCORE.  Next I 
want to integrate the score filters for users.  In the menu, you can 
output a FASTA file for each PDB, or even for the region specified, 
which is kinda nice for sequence Logos, etc.  You will be able to use 
calibur in a few weeks, and right now, you can convert all of the PDB's 
to an SQLITE3 DB.  This is basically a way to store a large number of 
PDB's for analysis, etc.  Note that it is not the Rosetta DB structure, 
it is my own.  Will have the option to convert them the Rosetta way in 
the future.  Not sure how to do the conversion in PyRosetta yet.  
</p><p><i>CODE: toolbox/modules/tools</i> <br>
<i>CODE: toolbox/modules/calibur.py</i> <br>
<i>CODE: toolbox/modules/PDB.py</i>
</p>
<dl><dd><b>Rosetta Tools Window</b>
</dd></dl>
<p>In the Rosetta Tools window is the GUI that I built, independent of 
this program and PyRosetta.  It has a if __name__=__main__ function, so 
you can run it by itself if you feel inclined.  It's intent was to be an
 interactive way to create Rosetta options files, since I can't remember
 names, and I kept forgetting options for the many Rosetta apps that I 
use.  In addition, I wanted a GUI for modellers in my lab to use 
Rosetta, since for some reason they are a bit scared of the command 
line.  Next, I wanted it to be run on the cluster, so I could quickly 
set up a Rosetta run at 3 am.  <br>
<i>Current Implementation:</i> If you open the window and click the 
repopulate menu item, there are 4 options. Default option is to load 
option information and descriptions from doxygen.  The second option is a
 manually curated list of options, descriptions, and documentation.  
Next option is ALL.  This stands for ALL options of each program found 
in the app directory specified.  It runs the -help function of each app,
 writes a file, and parses that file as neatly as I could.  So much 
information, but sometimes, you want it all.  You can return the info 
for just the specific app selected in the help menu.  After 
repopulating, or even when you open the window, you can choose an app, 
and the options are listed.  Clicking the add_option, will add that the 
textbox at the bottom.  You can edit this.  Clicking showpath builder 
will allow you to look for files, add names, etc.  This options file can
 be saved/loaded/and run.  On the right is the documentation of each 
app, since I am constantly on rosettacommons re-reading the 
documentation every time I start using new apps. <br> 
Next, we have the cluster part.  This is supposed to be used for all 
apps, as the ones that don't use JD2 can be frustrating to set up for 
the cluster.  It generally uses Qsub to run on the cluster.  If you have
 MPI, use that instead.
</p>
<dl><dd><b>Help Menu</b>
</dd></dl>
<p>Here are a few things and links useful to users and you guys.  The 
license, about functions, etc.  If something in the GUI is less then 
explanatory, please let me know and we can add it to the help menu.
</p><p><i>CODE: toolbox/modules/help.py</i>
</p>
<h2><span class="editsection">[<a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=edit&amp;section=4" title="Edit section: Code Information">edit</a>]</span> <span class="mw-headline" id="Code_Information"> Code Information </span></h2>
<dl><dd>=== Organization: ===
</dd></dl>
<ul><li><i>/toolkit/pyrosetta_toolkit.py</i>
<ul><li>This is the main class responsible for building the window and 
holding global variables.  It adds /toolkit to the python PATH variable.
  It also sets and shows each piece of the main window. It holds 4 main 
objects.  The pymol_class, score_class, input_class, and output_class.  
It also holds access to the fullcontrol_class, which is the full control
 window.  It also holds a the current pose, but references of this pose 
are passed around freely.
</li></ul>
</li></ul>
<ul><li><i>/toolkit/window_main/</i>
<ul><li>Currently, all classes in window_main accept an instance of the 
toolkit class itself.  If this were C++, they would be accepting an 
access pointer to it!
</li><li><i>/toolkit/window_main/frames</i> The main window is now made 
up of 4 Frames.  These custom frames inherit from Tkinter 'Frame' class.
  If you would like to add to the main window, follow the code here.  
</li><li>There are 4 frames: InputFrame (which handles region 
selection), OutputFrame, SimpleAnalysisFrame and the 
QuickProtocolsFrame.  Each frame deals with building each part of the 
window.  They are not container classes, and should not hold any 
important variables that the rest of the GUI may hold. 
</li><li><i>/toolkit/window_main/IO</i> There are two classes that 
reside here: GUIInput and GUIOutput.  These classes are almost the 
lifeblood of the GUI.  Instances of these are named input_class and 
output_class respectively and reside in the main toolkit class as 
mentioned above.  They hold variables, classes, and any callback 
functions.  They can also have some functions that require access to 
many of the GUIs classes or the toolkit itself.  These two classes are 
passed all around the GUI. Functions such as loading a pose, fetching 
from the RCSB, or loading a Loop file into the region selection 
InputFrame reside here.  These are functions that cannot be placed in 
toolkit/modules/tools.
</li><li><i>/toolkit/window_main/menu.py</i>: Here is the main menu for the program.  It has some of it's own functions at the bottom.
</li><li><i>/toolkit/window_main/global_variables.py</i>:  The global 
variable current_directory is held here.  Any module that imports this 
file can access and set global_variables.current_directory.  It's a nice
 python trick.
</li></ul>
</li></ul>
<ul><li><i>toolkit/SCWRL/</i>
<ul><li>For those of you who use SCWRL, install a copy here to use it during modeling.  
</li></ul>
</li></ul>
<ul><li><i>toolkit/window_modules/</i>
<ul><li>'Here are all the windows that get launched.  All are objects 
with an __init__ function, and a setTk and shoTk function.  The setTk 
functions to create the Tk objects, while the shoTk grids them onto the 
screen.  Keeping these separate keeps code maintenance easier.  If you 
want a new window, put it in here.  If it has any other dependencies, 
help the user set them up, and use try: while importing
</li></ul>
</li></ul>
<ul><li><i>toolkit/modules</i>
<ul><li>Here are classes that are useful to the GUI.  T  If you have a kick ass class, put it here!
</li><li><i>toolkit/modules/protocols</i>&nbsp;:  Here are the protocols
 that I have used in the toolkit.  Each protocol class inherits from 
ProtocolBaseClass. To run your protocol, setup the mover and use 
self.run_protocol(my_mover).  This will setup the multiprocessing run, 
read output options from output_class, and generally run your protocol. 
 New protocols should go here.   
</li><li><i>toolkit/modules/tools</i>&nbsp;: These are mostly functions 
due to Tk's incessant need for functions instead of TCL/TK where you 
could write a few lines of code right in the command:lambda function.  
We'll get to that later.  Needless to say, if you want to use Tk, 
everything needs to be a function.  Tools are basically collections of 
functions used by various classes around the GUI.
</li><li><i>toolkit/modules/definitions</i>&nbsp;: Here is where you 
should put any large pieces of information you need to access.  I have 
one file in there for design that defines resfile types as well as all 
the biochemical info for design.
</li></ul>
</li></ul>
<dl><dd>=== Global Variables ===
</dd></dl>
<ul><li><b>How window_main modules work</b>
<ul><li>window_main/IO holds most of the relevant variables.  Pass 
input_class or output_class, or specific variables from those around.  
</li></ul>
</li></ul>
<ul><li><b>Toolkit Variables</b>
<ul><li><i>toolkit.pose</i>&nbsp;: Here is the pose that is loaded.  A reference is passed throughout the GUI.
</li><li><i>toolkit.native_pose</i>&nbsp;: This is set upon loading the 
pose, and is mainly used for RMSD, but can be used for other protocols 
and analysis as well.
</li><li><i>toolkit.current_directory</i>&nbsp;: Here is the directory 
that is set when loading a pose.  Other functions may set it, as it 
controls the initial directory in a tKFileDialog window.
</li><li>toolkit.score_class.score&nbsp;: Here is the current score function that is set.  I have a feeling you may need it...
</li><li>toolkit.pymol_class&nbsp;: Here is where the lovely PyMOL 
Observer and PyMOL Mover objects are held as pymol_class.pyobserver and 
pymol_class.pymover respectively.  A callback is set to the observe 
pymol checkbox to add and remove an observer as need be.  If you want to
 control it, pass your class/function this object.
</li></ul>
</li></ul>
<ul><li><b>GUIInput Variables</b>
<ul><li><i>input_class.filename</i>&nbsp;: Filename of the PDB loaded.  Passed to PyMOL and the output main window. 
</li><li><i>input_class.loops_as_strings</i>&nbsp;: This is an array of regions specified in the input part [ 24:42:L,&nbsp;::A, ] etc.
</li><li><i>input_class.regions</i>&nbsp;: This is an instance of the 
Regions class.  This replaces loops as strings for controlling and 
accessing region-specific information such as movemaps, sequences, 
taskfactories, etc.
</li></ul>
</li></ul>
<ul><li><ul><li><i>input_class.options_manager</i>: This is the options 
window that pops up. Besides that, it holds currently set options so 
that they can be re initialised when a protocol is run on multiple 
processors.  If you want to enable a variable permanently, use 
input_class.options_manager.add_option(option_string_with_-).  
Otherwise, use rosetta.basic.options.set_sometype_option('option', 
value)
</li></ul>
</li><li><b>GUIOutput Variables</b>
<ul><li><i>output_class.outdir</i>&nbsp;: Directory specified in output section of the GUI.  Default is whereever the pose was loaded from.
</li><li><i>output_class.outname</i>&nbsp;: Name of Output.  JD2 uses 
this for outputting after a protocol.  Variable is actually set in the 
output part of the main window.
</li><li><i>output_class.terminal_output</i>&nbsp;: Here is the IntVar 
variable set with a callback that controls the terminal window redirect.
  0 for textbox, 1 for terminal.
</li></ul>
</li></ul>
<h2><span class="editsection">[<a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=edit&amp;section=5" title="Edit section: Tkinter Resources/Overview">edit</a>]</span> <span class="mw-headline" id="Tkinter_Resources.2FOverview">Tkinter Resources/Overview </span></h2>
<dl><dd>=== Resources ===
</dd><dd><a rel="nofollow" class="external text" href="http://wiki.python.org/moin/TkInter">Description</a>
</dd><dd><a rel="nofollow" class="external text" href="http://www.pythonware.com/library/tkinter/introduction/">Start Here </a>
</dd><dd><a rel="nofollow" class="external text" href="http://sebsauvage.net/python/gui/">Nice Tutorial</a>
</dd><dd><a rel="nofollow" class="external text" href="http://infohost.nmt.edu/tcc/help/pubs/tkinter/">Advanced</a>
</dd><dd><a rel="nofollow" class="external text" href="http://www.amazon.com/Python-Tkinter-Programming-Grayson-Ph-D/dp/1884777813">Complex. Book. Complete Tkinter guide.</a>
</dd></dl>
<dl><dd>=== Basic Program ===
</dd></dl>
<dl><dd>=== Useful Functions ===
</dd></dl>
<dl><dd><dl><dd> <code> import tkFileDialog </code>
</dd><dd> <code> import tkSimpleDialog </code>
</dd><dd> <code> import tkMessageBox </code>
</dd></dl>
</dd></dl>
<dl><dd><dl><dd> <code> filename = tkFileDialog.askopenfilename(title="", message="", initialdir=global_variables.current_directory) </code>
</dd><dd> <code> filename = tkFileDialog.asksaveasfilename() </code>
</dd></dl>
</dd></dl>
<dl><dd><dl><dd> <code> my_float = tkSimpleDialog.askfloat(title="float", prompt="Please enter...", initialvalue=10.0) </code>
</dd><dd> <code> my_integer = tkSimpleDialog.askinteger </code>
</dd><dd> <code> my_string =  tkSimpleDialog.askstring </code>
</dd></dl>
</dd></dl>
<dl><dd><dl><dd> <code> result = tkMessageBox.askyesno(prompt = "proceed?") </code>
</dd></dl>
</dd></dl>
<p><br>
</p>
<dl><dd>=== Tips ===
</dd></dl>
<ul><li><ul><li>Use command:lambda self.my_func when using buttons or menu items.
</li></ul>
</li></ul>
<ul><li><ul><li>Check if a user hit cancel (Makes result NoneType) after a prompt: <code> if not result:return </code>
</li></ul>
</li></ul>
<ul><li><ul><li>Set the current_directory after a user has chosen to save or load something <code> global_variables.current_directory=os.path.dirname(just_opened_path) </code>
</li></ul>
</li></ul>
<ul><li><ul><li>If using any sort of multiprocessing where random numbers are used, use <code> input_class.options_manager.re_init() </code> on each processor to generate a new seed for that particular instance.
</li></ul>
</li></ul>
<h2><span class="editsection">[<a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=edit&amp;section=6" title="Edit section: Adding to the code">edit</a>]</span> <span class="mw-headline" id="Adding_to_the_code"> Adding to the code </span></h2>
<dl><dd>=== Main Window ===
</dd></dl>
<ul><li><i>/toolkit/pyrosetta_toolkit.py</i>
</li><li><i>/toolkit/window_main</i>
<ul><li>If you want to add another section to the main window, put the 
file in /window_main.  It should have three main functions, and inherit 
from the Tkinter Frame class.
<ul><li><b>def __init__(self, main, toolkit, **options):</b>
<ul><li>The default constructor should take a main tk, an instance of 
the toolkit itself, and **options, which denotes the ability to pass 
Frame options to the object.
</li><li>Within the constructor, this needs to be defined: Frame.__init__(self, main, **options)
</li></ul>
</li><li><b>create_GUI_objects(self):</b>
<ul><li>Here, you want to initialize your Tk objects.  optionMenu's, 
Buttons, etc.  Set any callbacks in the __init__ function.  You should 
pass self instead of self.main in construction of each GUI object
</li></ul>
</li><li><b>grid_GUI_objects(self)::</b>
<ul><li>This should grid the window.  Note that this grid is independant
 of the grid in pyrosetta_toolkit.py  This allows you and developers to 
move the subcomponents of the main_window around, without changing your 
design, or doing it manually. 
</li></ul>
</li><li><b>toolkit.sho_gui</b>
<ul><li>Here, you want to call your main window.  You can initialize it 
in any of the _x functions or add your own.  Your create and grid 
functions should be placed here. 
</li></ul>
</li></ul>
</li></ul>
</li></ul>
<dl><dd>=== Menu Items ===
</dd></dl>
<ul><li><i>/toolkit/window_main/menu.py</i>
<ul><li>Here, we add commands or draw new windows.  Surprisingly, this 
is pretty simple syntax.  First, find the menu item you want to add to.
</li><li><i>Adding Commands</i>&nbsp;: menu.add_command(label = "Cool function", command = lambda: func)  Thats it!
</li></ul>
</li></ul>
<dl><dd>=== Windows ===
</dd></dl>
<ul><li><i>Adding Windows</i>&nbsp;: 
<ul><li><i>The File:</i> Add the file(s) to window_modules.  Follow the 
guide in window_main, as you should have both a setTk and a shoTk 
window, but you don't necessarily have to for this one.  If you read the
 book, windows can get pretty complicated, so do whatever you need!  
window_modules/rosetta_tools/RosettaSetup.py has an example of a dialog 
window if you need it, but the possibilities really are quite awesome.
</li><li><i>The code:</i> This is a little more complicated.  You need 
to add a function to menu.py which initializes your window (if you 
havn't in the main toolkit class), and then call your setTk and shoTk 
functions if you have them.  the main should use this syntax: x = 
Toplevel(self.main).  This draws a new window.  Set your command, and 
voila - your new window!  Tk can be a pain in the ass, but it is as 
simple as it gets.
</li></ul>
</li></ul>
<dl><dd>=== Existing Code ===
</dd></dl>
<ul><li>By now, you should have an idea of where to put what, and how to
 add the majority of things.  If you have questions, email me and I can 
help.
</li></ul>

<!-- 
NewPP limit report
Preprocessor visited node count: 23/1000000
Preprocessor generated node count: 28/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:1661-0!*!*!!en!*!* and timestamp 20130422185808 -->
</div><div class="printfooter">
Retrieved from "<a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;oldid=13526">https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;oldid=13526</a>"</div>
		<div id="catlinks" class="catlinks catlinks-allhidden"></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="https://wiki.rosettacommons.org/index.php/PyRosetta_Toolkit" primary="1" context="subject" title="View the content page [alt-shift-c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.rosettacommons.org/index.php?title=Talk:PyRosetta_Toolkit&amp;action=edit&amp;redlink=1" primary="1" context="talk" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=edit" primary="1" title="You can edit this page. Please use the preview button before saving [alt-shift-e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=history" rel="archives" title="Past revisions of this page [alt-shift-h]" accesskey="h">History</a></li>
				<li id="ca-move"><a href="https://wiki.rosettacommons.org/index.php/Special:MovePage/PyRosetta_Toolkit" title="Move this page [alt-shift-m]" accesskey="m">Move</a></li>
				<li id="ca-watch"><a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;action=watch&amp;token=94d2b726e61b5f9d01cbc8f4e760bac0%2B%5C" title="Add this page to your watchlist [alt-shift-w]" accesskey="w">Watch</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-userpage"><a href="https://wiki.rosettacommons.org/index.php/User:Jadolfbr" title="Your user page [alt-shift-.]" accesskey=".">Jadolfbr</a></li>
				<li id="pt-mytalk"><a href="https://wiki.rosettacommons.org/index.php/User_talk:Jadolfbr" class="new" title="Your talk page [alt-shift-n]" accesskey="n">Talk</a></li>
				<li id="pt-preferences"><a href="https://wiki.rosettacommons.org/index.php/Special:Preferences" title="Your preferences">Preferences</a></li>
				<li id="pt-watchlist"><a href="https://wiki.rosettacommons.org/index.php/Special:Watchlist" title="A list of pages you are monitoring for changes [alt-shift-l]" accesskey="l">Watchlist</a></li>
				<li id="pt-mycontris"><a href="https://wiki.rosettacommons.org/index.php/Special:Contributions/Jadolfbr" title="A list of your contributions [alt-shift-y]" accesskey="y">Contributions</a></li>
				<li id="pt-logout"><a href="https://wiki.rosettacommons.org/index.php?title=Special:UserLogout&amp;returnto=PyRosetta+Toolkit" title="Log out">Log out</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
<a href="https://wiki.rosettacommons.org/index.php/Main_Page" style="background-image: url(/skins/common/images/wiki.png);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class="pBody">
			<ul>
				<li id="n-mainpage-description"><a href="https://wiki.rosettacommons.org/index.php/Main_Page" title="Visit the main page [alt-shift-z]" accesskey="z">Main page</a></li>
				<li id="n-portal"><a href="https://wiki.rosettacommons.org/index.php/RosettaWiki:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-currentevents"><a href="https://wiki.rosettacommons.org/index.php/RosettaWiki:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="https://wiki.rosettacommons.org/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [alt-shift-r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="https://wiki.rosettacommons.org/index.php/Special:Random" title="Load a random page [alt-shift-x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="https://wiki.rosettacommons.org/index.php/Help:Contents" title="The place to find out">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform">
				<input name="title" value="Special:Search" type="hidden">
				<input placeholder="Search" autocomplete="off" name="search" title="Search RosettaWiki [alt-shift-f]" accesskey="f" id="searchInput" type="search">
				<input name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" type="submit">&nbsp;
				<input name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" type="submit">
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="https://wiki.rosettacommons.org/index.php/Special:WhatLinksHere/PyRosetta_Toolkit" title="A list of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="https://wiki.rosettacommons.org/index.php/Special:RecentChangesLinked/PyRosetta_Toolkit" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
				<li id="t-upload"><a href="https://wiki.rosettacommons.org/index.php/Special:Upload" title="Upload files [alt-shift-u]" accesskey="u">Upload file</a></li>
				<li id="t-specialpages"><a href="https://wiki.rosettacommons.org/index.php/Special:SpecialPages" title="A list of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;printable=yes" rel="alternate" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li>
				<li id="t-permalink"><a href="https://wiki.rosettacommons.org/index.php?title=PyRosetta_Toolkit&amp;oldid=13526" title="Permanent link to this revision of the page">Permanent link</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico">
		<a href="https://www.mediawiki.org/"><img src="PyRosetta%20Toolkit%20-%20RosettaWiki_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" height="31" width="88"></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 22 April 2013, at 11:58.</li>
		<li id="viewcount">This page has been accessed 174 times.</li>
		<li id="privacy"><a href="https://wiki.rosettacommons.org/index.php/RosettaWiki:Privacy_policy" title="RosettaWiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="https://wiki.rosettacommons.org/index.php/RosettaWiki:About" title="RosettaWiki:About">About RosettaWiki</a></li>
		<li id="disclaimer"><a href="https://wiki.rosettacommons.org/index.php/RosettaWiki:General_disclaimer" title="RosettaWiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"loading"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","mediawiki.page.watch.ajax","mediawiki.searchSuggest"], null, true);
}</script><script type="text/javascript" src="PyRosetta%20Toolkit%20-%20RosettaWiki_files/load_002.php"></script>
<script>if(window.mw){
mw.loader.state({"site":"ready"});
}</script>
<script>if(window.mw){
mw.loader.state({"user.groups":"ready"});
}</script>
<!-- Served in 0.152 secs. --><div class="suggestions" style="display: none; font-size: 11.4667px;"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>